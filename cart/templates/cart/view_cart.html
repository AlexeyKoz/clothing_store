{% extends "base.html" %}

{% block content %}
<h1>🛒 Your Cart</h1>

{% if items %}
  <ul>
    {% for item in items %}
      <li>
        <a href="{% url 'catalog:product_detail' item.product.id %}">{{ item.product.name }}</a>
        × {{ item.quantity }} — ${{ item.total_price }}
        <form method="post" action="{% url 'cart:remove_from_cart' item.product.id %}" style="display:inline;">
          {% csrf_token %}
          <button type="submit">❌ Remove</button>
        </form>
      </li>
    <a href="{% url 'cart:checkout' %}" class="btn btn-primary">Proceed to Checkout</a>
    {% endfor %}
  </ul>
  <p><strong>Total:</strong> ${{ total }}</p>

{% else %}
  <p>Your cart is empty.</p>
{% endif %}
{% endblock %}
